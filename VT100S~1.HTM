<HTML>
<HEAD>
<TITLE>ANSI/VT100 Terminal Control</TITLE>
</HEAD>


<BODY BACKGROUND="/bkgrnds/lt_grant.gif">



<TABLE>
<TR>
<TD WIDTH=50>
<PRE>    </PRE>

<TD>

<H2><A NAME="top">ANSI/VT100 Terminal Control</A></H2>
<B>Copyright &#169; 1996 Robert M. Free</B> - all rights reserved]
<HR>

<CENTER>
<H5>
[ <A HREF="#status">Status</A>
| <A HREF="#setup">Setup</A>
| <A HREF="#fonts">Fonts</A>
| <A HREF="#cursor">Cursor</A>
| <A HREF="#scroll">Scrolling</A>
| <A HREF="#tab">Tabs</A>
| <A HREF="#erase">Erasing</A>
| <A HREF="#print">Printing</A>
| <A HREF="#keyboard">Keyboard</A>
| <A HREF="#colors">Colors</A>
]
</H5>
</CENTER>

<HR>
<P>
Many computer terminals and terminal emulators support color and cursor control through a 
system of escape sequences.  One such standard is commonly referred to as ANSI Color.  
Several terminal specifications are based on the ANSI color standard, including VT100.
<P>
The following is a partial listing of the VT100 control set.
<P>
<B><CODE>&lt;ESC&gt;</CODE></B> represents the ANSI "escape" character, 0x1B.  Bracketed tags represent modifiable 
decimal parameters; eg. <B><CODE>{ROW}</CODE></B> would be replaced by a row number.
<P>



<HR>
<H2><A NAME="status">Device Status</A></H2>
The following codes are used for reporting terminal/display settings, and vary depending 
on the implementation:

<PRE><B>Query Device Code	&ltESC&gt;[c</B></PRE><UL>
Requests a <CODE><B>Report Device Code</B></CODE> response from the device.
</UL><P>

<PRE><B>Report Device Code	&ltESC&gt;[{code}0c</B></PRE><UL>
Generated by the device in response to <CODE><B>Query Device Code</B></CODE> request.
</UL><P>

<PRE><B>Query Device Status	&ltESC&gt;[5n</B></PRE><UL>
Requests a <CODE><B>Report Device Status</B></CODE> response from the device.
</UL><P>

<PRE><B>Report Device OK	&ltESC&gt;[0n</B></PRE><UL>
Generated by the device in response to a <CODE><B>Query Device Status</B></CODE> request;
indicates that device is functioning correctly.
</UL><P>

<PRE><B>Report Device Failure	&ltESC&gt;[3n</B></PRE><UL>
Generated by the device in response to a <CODE><B>Query Device Status</B></CODE> request;
indicates that device is functioning improperly.
</UL><P>

<PRE><B>Query Cursor Position	&ltESC&gt;[6n</B></PRE><UL>
Requests a <CODE><B>Report Cursor Position</B></CODE> response from the device.
</UL><P>

<PRE><B>Report Cursor Position	&ltESC&gt;[{ROW};{COLUMN}R</B></PRE><UL>
Generated by the device in response to a <CODE><B>Query Cursor Position</B></CODE> request;
reports current cursor position.
</UL><P>



<HR>
<H2><A NAME="setup">Terminal Setup</A></H2>
The <B><CODE>h</CODE></B> and <B><CODE>l</CODE></B> codes are used for setting terminal/display
mode, and vary depending on the implementation.  Line Wrap is one of the few setup codes that 
tend to be used consistently:
<P>
<PRE><B>Reset Device		&ltESC&gt;c</B></PRE><UL>
Reset all terminal settings to default.
</UL><P>

<!---
<PRE><B>Echo Cursor Key		&ltESC&gt;[1h</B></PRE><UL>
Echo cursor key escapes to application.
</UL><P>

<PRE><B>Set ANSI Mode		&ltESC&gt;[2h</B></PRE><UL>
Set ANSI compatibility.
</UL><P>

<PRE><B>132 Column Mode		&ltESC&gt;[3h</B></PRE><UL>
Set display to 132 columns.
</UL><P>

<PRE><B>Set Smooth Scrolling	&ltESC&gt;[4h</B></PRE><UL>
Scroll display smoothly.
</UL><P>

<PRE><B>Set Reverse Video	&ltESC&gt;[5h</B></PRE><UL>
Reverse foreground/background.
</UL><P>

<PRE><B>Set Relative Origin	&ltESC&gt;[6h</B></PRE><UL>
Cursor positioning is relative to scrollable area.
</UL><P>
--->
<PRE><B>Enable Line Wrap	&ltESC&gt;[7h</B></PRE><UL>
Text wraps to next line if longer than the length of the display area.
</UL><P>
<!---
<PRE><B>Enable Auto-repeat	&ltESC&gt;[8h</B></PRE><UL>
Holding keys down cause multiple characters to be sent to the application.
</UL><P>

<PRE><B>Enable Interlace Mode	&ltESC&gt;[9h</B></PRE><UL>
Echo cursor key escapes to application.
</UL><P>
--->

<PRE><B>Disable Line Wrap	&ltESC&gt;[7l</B></PRE><UL>
Disables line wrapping.
</UL><P>

<!---
<PRE><B>Set Newline Mode 	&ltESC&gt;[20h</B></PRE><UL>
Echo cursor key escapes to application.
</UL><P>

<PRE><B>Set Newline Mode 	&ltESC&gt;[20h</B></PRE><UL>
Echo cursor key escapes to application.
</UL><P>
--->



<HR>
<H2><A NAME="fonts">Fonts</A></H2>
Some terminals support multiple fonts: normal/bold, swiss/italic, etc.
There are a variety of special codes for certain terminals; the following
are fairly standard:
<P>
<PRE><B>Font Set G0		&ltESC&gt;(</B></PRE><UL>
Set default font.
</UL><P>
<PRE><B>Font Set G1		&ltESC&gt;)</B></PRE><UL>
Set alternate font.
</UL><P>
<!---
<PRE><B>Font Set UK G0		&ltESC&gt;[(A</B></PRE><UL>
Set default UK font.
</UL><P>
<PRE><B>Font Set UK G1		&ltESC&gt;[)A</B></PRE><UL>
Set alternate UK font.
</UL><P>
<PRE><B>Font Set US G0		&ltESC&gt;[(B</B></PRE><UL>
Set default UK font.
</UL><P>
<PRE><B>Font Set US G1		&ltESC&gt;[)B</B></PRE><UL>
Set alternate UK font.
</UL><P>
--->


<HR>
<H2><A NAME="cursor">Cursor Control</A></H2>

<PRE><B>Cursor Home 		&ltESC&gt;[{ROW};{COLUMN}H</B></PRE><UL>
Sets the cursor position where subsequent text will begin.
If no row/column parameters are provided (ie. <CODE><B>&ltESC&gt;[H</B></CODE>), 
the cursor will move to the <I>home</I> position, at the upper left of the screen.
</UL><P>

<PRE><B>Cursor Up		&ltESC&gt;[{COUNT}A</B></PRE><UL>
Moves the cursor up by <I>COUNT</I> rows; the default count is 1.
</UL><P>

<PRE><B>Cursor Down		&ltESC&gt;[{COUNT}B</B></PRE><UL>
Moves the cursor down by <I>COUNT</I> rows; the default count is 1.
</UL><P>

<PRE><B>Cursor Forward		&ltESC&gt;[{COUNT}C</B></PRE><UL>
Moves the cursor <I>forward</I> by <I>COUNT</I> columns; the default count is 1.
</UL><P>

<PRE><B>Force Cursor Position	&ltESC&gt;[{ROW};{COLUMN}f</B></PRE><UL>
Identical to <CODE><B>Cursor Home</B></CODE>.
</UL><P>

<PRE><B>Save Cursor		&ltESC&gt;[s</B></PRE><UL>
Save current cursor position.
</UL><P>

<PRE><B>Unsave Cursor		&ltESC&gt;[u</B></PRE><UL>
Restores cursor position after a <CODE><B>Save Cursor</B></CODE>.
</UL><P>

<PRE><B>Save Cursor & Attrs	&ltESC&gt;7</B></PRE><UL>
Save current cursor position.
</UL><P>

<PRE><B>Restore Cursor & Attrs	&ltESC&gt;8</B></PRE><UL>
Restores cursor position after a <CODE><B>Save Cursor</B></CODE>.
</UL><P>



<HR>
<H2><A NAME="scroll">Scrolling</A></H2>

<PRE><B>Scroll Screen		&ltESC&gt;[r</B></PRE><UL>
Enable scrolling for entire display.
</UL><P>

<PRE><B>Scroll Screen		&ltESC&gt;[{start};{end}r</B></PRE><UL>
Enable scrolling from row <B><CODE>{start}</CODE></B> to row <B><CODE>{end}</CODE></B>.
</UL><P>

<PRE><B>Scroll Down		&ltESC&gt;D</B></PRE><UL>
Scroll display down one line.
</UL><P>

<PRE><B>Scroll Up		&ltESC&gt;M</B></PRE><UL>
Scroll display up one line.
</UL><P>



<HR>
<H2><A NAME="tab">Tab Control</A></H2>

<PRE><B>Set Tab 		&ltESC&gt;H</B></PRE><UL>
Sets a tab at the current position.
</UL><P>

<PRE><B>Clear Tab 		&ltESC&gt;[g</B></PRE><UL>
Clears tab at the current position.
</UL><P>

<PRE><B>Clear All Tabs 		&ltESC&gt;[3g</B></PRE><UL>
Clears all tabs.
</UL><P>



<HR>
<H2><A NAME="erase">Erasing Text</A></H2>

<PRE><B>Erase End of Line	&ltESC&gt;[K</B></PRE><UL>
Erases from the current cursor position to the end of the current line.
</UL><P>

<PRE><B>Erase Start of Line	&ltESC&gt;[1K</B></PRE><UL>
Erases from the current cursor position to the start of the current line.
</UL><P>

<PRE><B>Erase Line		&ltESC&gt;[2K</B></PRE><UL>
Erases the entire current line.
</UL><P>

<PRE><B>Erase Down		&ltESC&gt;[J</B></PRE><UL>
Erases the screen from the current line down to the bottom of the screen.
</UL><P>

<PRE><B>Erase Up		&ltESC&gt;[1J</B></PRE><UL>
Erases the screen from the current line up to the top of the screen.
</UL><P>

<PRE><B>Erase Screen		&ltESC&gt;[2J</B></PRE><UL>
Erases the screen with the background color and moves the cursor to <I>home</I>.
</UL><P>


<HR>
<H2><A NAME="print">Printing</A></H2>
Some terminals support local printing:

<PRE><B>Print Screen		&ltESC&gt;[i</B></PRE><UL>
Print the current screen.
</UL><P>

<PRE><B>Print Line		&ltESC&gt;[1i</B></PRE><UL>
Print the current line.
</UL><P>

<PRE><B>Stop Print Log		&ltESC&gt;[4i</B></PRE><UL>
Disable log.
</UL><P>

<PRE><B>Start Print Log		&ltESC&gt;[5i</B></PRE><UL>
Start log; all received text is echoed to a printer.
</UL><P>



<HR>
<H2><A NAME="keyboard">Define Key</A></H2>

<PRE><B>Set Key Definition	&ltESC&gt;[{key};"{string}"p</B></PRE><UL>
Associates a <I>string</I> of text to a keyboard key.  
<CODE><B>{key}</B></CODE> indicates the key by its ASCII value in decimal.
</UL><P>


<HR>
<H2><A NAME="colors">Set Display Attributes</A></H2>

<PRE><B>Set Attribute Mode	&ltESC&gt;[{attr1};...;{attrn}m</B></PRE><UL>
Sets multiple display attribute settings.  The following lists standard attributes:

<PRE>
0	Reset all attributes
1	Bright
2	Dim
4	Underscore	
5	Blink
7	Reverse
8	Hidden

	<B>Foreground Colors</B>
30	Black
31	Red
32	Green
33	Yellow
34	Blue
35	Magenta
36	Cyan
37	White

	<B>Background Colors</B>
40	Black
41	Red
42	Green
43	Yellow
44	Blue
45	Magenta
46	Cyan
47	White
</PRE>
</UL>


<HR>
<CENTER>
<H5>
[ <A HREF="#top">Top</A>
| <A HREF="#status">Status</A>
| <A HREF="#setup">Setup</A>
| <A HREF="#fonts">Fonts</A>
| <A HREF="#cursor">Cursor</A>
| <A HREF="#scroll">Scrolling</A>
| <A HREF="#tab">Tabs</A>
| <A HREF="#erase">Erasing</A>
| <A HREF="#print">Printing</A>
| <A HREF="#keyboard">Keyboard</A>
| <A HREF="#colors">Colors</A>
]
</H5>
</CENTER>


<HR>
<ADDRESS>
For comments/correction/additions regarding this reference, email 
<A HREF="mailto:specs@graphcomp.com">specs@graphcomp.com</A>.
</ADDRESS>






<TD WIDTH=50>
<PRE>    </PRE>
</TABLE>


</BODY>

</HTML>
